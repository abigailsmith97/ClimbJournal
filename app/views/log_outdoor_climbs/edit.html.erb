<main>
    <section class="py-5 text-center container">
        <!-- <div class="row py-lg-5"> -->
        <div class="col-lg-8 mx-auto">
            <h1 class="fw-light">Log a new Outdoor Climbing Session</h1>

            <%= form_with(model: @log_climb, url: log_outdoor_climb_path(@log_climb), method: :patch, class: "mt-4") do |f| %>
                <div class="mb-3">
                    <%= f.label :date, 'When did you go climbing?', class: "form-label" %>
                    <%= f.date_field :date, class: "form-control" %>
                </div>

                <div class="mb-3">
                    <%= f.label :climbing_type, 'Select Climbing Style', class: "form-label" %>
                    <%= f.select :climbing_type, ['Sport', 'Trad', 'Bouldering'], {}, class: 'form-control' %>
                </div>

                <div class="mb-3">
                    <%= f.label :location, 'Where did you go climbing?', class: "form-label" %>
                    <%= f.text_field :location, class: "form-control" %>
                </div>

                <div class="mb-3">
                    <%= f.label :main_image, 'Upload an image' %>
                    <%= f.file_field :main_image %>
                </div>

                <div class="individual_outdoor_climbs">
                    <table class="table table-bordered">
                        <%# <thead>
                        <tr>
                            <th>Climb Name</th>
                            <th>Grade</th>
                            <th>Climbing Style</th>
                            <th>Climbing Partner</th>
                            <th>Notes</th>
                            <th></th>
                        </tr>
                        </thead> %>
                        <tbody>
                        <%= f.fields_for :individual_outdoor_climbs do |individual_outdoor_climb| %>
                            <tr class="nested-fields">
                            <td><%= individual_outdoor_climb.text_field :climb_name, class: "form-control" %></td>
                            <td><%= individual_outdoor_climb.text_field :grade, class: "form-control" %></td>
                            <td><%= individual_outdoor_climb.text_field :climbing_style, class: "form-control" %></td>
                            <td><%= individual_outdoor_climb.text_field :climbing_partner, class: "form-control" %></td>
                            <td><%= individual_outdoor_climb.text_field :notes, class: "form-control" %></td>
                            <td><%= link_to_remove_association "Delete", individual_outdoor_climb, class: "btn btn-dark mt-3" %></td>
                            </tr>
                        <% end %>
                        </tbody>
                    </table>
                    </div>

                <%# <%= link_to_add_association "Add Climb", f, :individual_outdoor_climbs, data: { association_insertion_node: '.individual_outdoor_climbs tbody', association_insertion_method: :append }, class: "btn btn-primary mt-3" %>
                <%= link_to_add_association "Add Climb", f, :individual_outdoor_climbs, data: { association_insertion_node: '.individual_outdoor_climbs', association_insertion_method: :append, wrap_object: 'td' }, class: "btn btn-light mt-3" %>
                                 
                
                <%# <section class="py-5 text-center container">
                <div class="row py-lg-5">
                    <div class="col-lg-6 col-md-8 mx-auto">

                    <%= form_with(model: @image, local: true, html: { multipart: true }) do |form| %>
                    <%# <div class="form-group"> %>
                        <%# <%= form.label :title, class: "control-label" %> 
                        <%# <%= form.text_field :title, class: "form-control" %> 
                    <%# </div> %>
                    <%# <div class="form-group"> %>
                        <%# <%= form.label :image, class: "control-label" %> 
                        <%# <%= form.file_field :image, class: "form-control" %> 
                    <%# </div> %>
                    <%# <%= form.submit "Upload", class: "btn btn-primary" %> 
                    <%# <% end %>
            <%= f.submit "Save Climb", class: "btn btn-dark mt-3" %>
            <% end %> 
        </div>
       
        <%= button_to "Delete", log_outdoor_climb_path(OutdoorClimbing.find(params[:id])), data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, method: :delete, class: "btn btn-dark mt-3" %>
       
        <!-- </div> -->
    </section>
</main>
